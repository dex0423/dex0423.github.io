---
layout:     post
title:      MySQL性能优化：读写分离
subtitle:   
date:       2022-01-27
author:     dex0423
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 数据库
---


## 读写分离 & 一主多从

###### 工作原理

* 在实际的应用中，绝大部分情况都是读远大于写；
* Mysql提供了读写分离的机制，所有的写操作都必须对应到Master，读操作可以在 Master和Slave机器上进行；
* Slave与Master的结构完全一样，一个Master可以有多个Slave，甚至Slave下还可以挂 Slave，通过此方式可以有效的提高DB集群的 QPS；
* 所有的写操作都是先在Master上操作，然后同步更新到Slave上；
* 所以从Master同步到Slave机器有一定的延迟，当系统很繁忙的时候，延迟问题会更加严重，Slave机器数量的增加也会使这个问题更加严重。

###### 应用实践

* 当读压力很大的时候，可以考虑添加Slave机器的分式解决，但是当Slave机器达到一定的数量就得考虑分库了。
* 当写压力很大的时候，就必须得进行分库操作。

