---
layout:     post
title:      数据湖：数据湖的性能要求和设计原则
subtitle:   
date:       2022-01-27
author:     dex0423
header-img: img/post-bg-os-metro.jpg
catalog: true
tags:
    - 数仓
---

# 1. 数据湖的性能要求

##### 1.1. 安全

- 数据集中存储，要求有严格的权限管控。

##### 1.2. 可扩展

- 数据湖应随需求扩展的能力。

##### 1.3. 吞吐量

- 较高的数据吞吐量。

##### 1.4. 可靠性

- 必须稳定可靠。

##### 1.5. 原始格式存储

- 数据必须是原始数据，不能有任何修饰、加工。

##### 1.6. 支持多数据源、异构数据写入

- 不限制数据类型。

##### 1.7. 支持多种处理和分析框架

- 支持的数据处理和分析架构应该是多样的。

# 2. 数据湖的设计原则

##### 2.1. 数据和业务分离

- 数据湖的架构设计，不考虑业务，只考虑数据。

>业务适配，是数仓应该考虑的，而不是数据湖。

##### 2.2. 存储和计算分离（比较适合云平台）

- Hadoop 中计算的扩容受到存储制约：
  - 一般来说，计算容量不够的时候，需要对计算进行扩容；
  - Hadoop 中，计算和存储是一起的，DataNode 和 计算节点是复用的，这样计算节点可以直接访问本地的数据；
    - 但是这样就会导致一个问题，计算扩容的时候、存储也跟着扩容，存储的 rebalance 会造成存储的资源消耗。
  - 总结就是，计算的扩容收到存储制约，无法灵活的扩容和缩容。

- 存储和计算分离对网络要求很高：
  - 存储和计算分离，数据是走网络的，这就对网络有很高的要求；
  - 集群内网交换机的传输速度要很快才行，不然就会制约性能；

- 云平台天生支持存储和计算分离
  - AWS 使用 S3 作为存储，计算是分离的；
  - Azure 使用 blob 存储，计算和 blob 无关；
  - 阿里云使用 OSS 存储，和计算也没有关系；
  - 在云平台上，计算和存储天生就是分离的。

##### 2.3. 支持多种数据处理架构

- lambda 架构；
- Kappa 架构；
- IOTA 架构；

##### 2.4. 管理服务以及工具使用要求

- 数据安全管理；
- 访问权限管理；
- ETL 数据汇入；
- 合适的批处理、流处理工具；
- 前端工具，包括 BI、API 等；


