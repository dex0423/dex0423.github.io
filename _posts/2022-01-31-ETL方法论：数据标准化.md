---
layout:     post
title:      ETL方法论：数据标准化
subtitle:   
date:       2022-01-31
author:     dex0423
header-img: img/post-bg-os-metro.jpg
catalog: true
tags:
    - ETL
---


# 1. 数据标准化与数据清洗的区别

#### 1.1. 数据清洗

- 处理的问题：
  - 录入错误、输入错误，导致数据不可用；
  - 程序运行异常、规则错误，导致数据冗余、重复等；

- 处理的策略：
  - 校验、过滤、去重、转换、置空；
  - 与业务系统确认规则，并将数据问题反馈给业务系统。

#### 1.2. 数据标准化

- 处理的问题：
  - 各系统建设时，没有统一的标准；

- 处理的策略：
  - 针对不同业务系统的相同属性，将数据内容转化、以统一格式；

# 2. 业务系统数据标准化 vs 数仓的数据标准化

- 业务系统数据标准化：
  - 业务系统侧重的是业务流程标准化，业务系统规则无论怎么设计，都是唯一的。
  - 比如：商品信息和账单信息，只要有严格的主外键依赖关系就可以；
- 数仓的数据标准化：
  - 数仓侧重的是不同业务系统之间，数据内容、数据格式的统一；
  - 比如：
    - 不同系统的维度表（数据字典）中，性别字段值 1，有的代表【男】、有的代表【女】；
    - 有的表或字段，命名采用的还汉语拼音、有的是拼音首字母缩写、有的是英文、有的是因为跟首字母简写；

>国标网：
> 
>常用的公共数据字典，可以到【国家标准化委员会网站】获取代码，直接应用到维度表中。

# 3. 数据标准化建设路径

#### 3.1. 脚本开发模式

- 在维度表的设计的时候，需要大量的数据处理规则。
- 甚至有时单张表都会设计数十、上百个数据处理规则，SQL开发的效率会比较低，很难支撑上千张表的数据处理规模。

#### 3.2. 产品开发模式

- 数据处理逻辑封装到产品里面，通过模块化接口、图形化拖拽，实现数据处理的流程。

- kettle
  - kettle 是最典型的数据处理工具；
  - 在一千张左右规模，基本可以满足生产需求；
  >很多公司的数据处理产品，都是基于 kettle 增加了任务调度、资源监控、日志监控、权限管理模块。

- 问题：
  - 但是对于超大规模的的数据处理，比如表达到上万张，就会比较耗费人工成本；
  - 同时，也会出现人工操作失误的问题；
    - 比如：人工进行数据映射的时候，匹配错了代码表，导致数据映射失败；
  - 业务规则变动的时候，又需要对数据处理工具进行二次开发。

#### 3.3. 元数据驱动模式

通过元数据管理，实现数据处理流程的可管、可控、可查。

最终实现数据管理体系的流程化、规范化、自动化。
