---
layout:     post
title:      用户画像：用户画像系统设计
subtitle:   
date:       2022-01-01
author:     dex0423
header-img: img/post-bg-os-metro.jpg
catalog: true
tags:
    - 用户画像
---



# 8. 用户画像系统开发的八大模块

![]({{site.baseurl}}/img-post/用户画像-7.png)

#### 8.1. 系统框架

- 需要了解、明确用户画像是什么，包含哪些模块，数据仓库架构是什么样子，开发流程，表结构设计，ETL设计等。
- 这些都是框架，大方向的规划，只有明确了方向后续才能做好项目的排期和人员投入预算。这对于评估每个开发阶段重要指标和关键产出非常重要。

#### 8.2. 数据指标体系

- 根据业务线梳理，包括用户属性、用户行为、用户消费、风险控制等维度的指标体系。

#### 8.3. 标签数据存储

- 标签相关数据可存储在 Hive、MySQL、HBase、Elasticsearch 等数据库中，不同存储方式适用于不同的应用场景。

#### 8.4. 标签数据开发

- 用户画像工程化的重点模块，包含统计类、规则类、挖掘类、流式计算类标签的开发，以及人群计算功能的开发，打通画像数据和各业务系统之间的通路，提供接口服务等开发内容。

#### 8.5. 系统性能调优

- 标签加工、人群计算等脚本上线调度后，为了缩短调度时间、保障数据的稳定性等，需要对开发的脚本进行迭代重构、调优。

#### 8.6. 作业流程调度

- 标签加工、人群计算、同步数据到业务系统、数据监控预警等脚本开发完成后，需要调度工具把整套流程调度起来。

#### 8.7. 用户画像产品化

- 为了能让用户数据更好地服务于业务方，需要以产品化的形态应用在业务上。产品化的模块主要包括标签视图、用户标签查询、用户分群、透视分析等。

#### 8.8. 用户画像应用

- 画像的应用场景包括用户特征分析、短信、邮件、站内信、Push消息的精准推送、客服针对用户的不同话术、针对高价值用户的极速退货退款等VIP服务应用。


# 6. 用户画像项目技术栈

#### 6.1. 数据开发
  - Spark
  - Flink

#### 6.2. 数据存储 & 查询
  - Hbase
  - Hive
  - MySQL

#### 6.3. 流式计算
  - Kafka
  - Spark Streaming

#### 6.4. 作业调度
  - Crontab
  - Airflow

#### 6.5. 开发语言
  - Scala
    - 标签的复杂计算
    - Spark Streaming
  - Hive SQL
  - Python
    - 监控脚本
    - 调度流
  - Shell



# 7. 用户画像项目开发流程

#### 7.1. 需求调研
  - 业务需求分析
  - 数据盘点
  - 竞品调研
  - **输出：《产品用户画像需求文档》**，明确应用场景、标签内容、应用方式等；

#### 7.2. 产品设计
  - 业务架构
  - 产品架构
  - 标签体系设计
  - 画像系统功能
  - 产品版本计划
  - **输出：《产品用户画像产品规划文档》**，明确应用方式、标签模型、功能模块、UI/Demo等；

#### 7.3. 技术规划
  - 目标解读  
  - 任务分解
  - 技术方案选型
  - 标签数据落表
    - 逻辑模型
    - 数据字典
    - 血缘关系
    - 标签权重
  - 数据采集体系规划
  - One ID（主要在多平台场景）设计
  - 项目计划 & 开发流程
  - **输出：《产品用户画像技术规划文档》**，明确技术选型、方案设计、开发计划、数据库表等；

#### 7.4. 技术开发

- 用户建模
  - 确定要提取的用户特征维度
- 数据采集
  - 读取需要的数据，统计存放到数据仓库
- 数据清洗
  - 通常直接在 hive 中进行，包括统计类标签的生成
- 模型训练
  - 对于无法直接得到的标签，建立模型进行训练
- 属性预测
  - 利用训练得到的模型，和用户的已知特征，预测未知特征，同时不断优化模型
- 标签落表
  - 特征选取 & 标签数据落表
- 数据合并
  - 把多数据源提取的特征进行合并
- 数据分发 / 接口封装
  - 对于合并后的结果数据，分发到各个平台，为业务提供支撑

#### 7.5. 灰度测试

- 线下模型数据测试
- 线上灰度测试

#### 7.3. 运营反馈

- 线上模型发布
- A/B 测试
- 效果追踪
- 模型修正

#### 7.6. 项目评审四个关键点

- 立项评审
- 需求评审
- 提测演示
- 产品发布验收


# 9. 用户画像项目团队及协作

- 运营经理 / 业务产品经理
- 数据产品经理
- 数仓工程师
  - 数仓模型搭建
- 算法工程师
  - 算法模型建设
- 后端工程师
  - 系统功能模块建设
- 测试人员
  - 数据测试
  - 功能测试

# 1. 标签开发

- 每个标签，一个应用程序，
- 需要一个标签，就开发一 Spark 套程序
- 如果不再使用标签，则直接停止该程序



# 2. 标签分类

- 用户标签
    - 用户个体标签
    - 用户群体标签
- 商品标签
    - 产品标签
    - 产品线标签
- 流量渠道 / 媒介标签
- 

