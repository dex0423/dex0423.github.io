---
layout:     post
title:      ETL方法论：ETL的基本概念
subtitle:   
date:       2022-01-27
author:     dex0423
header-img: img/post-bg-os-metro.jpg
catalog: true
tags:
    - 数仓
---


# 1. ETL 定义

ETL，是数据抽取（Extractor）、清洗转换（Transform）、数据加载（Load）的过程，是构建数据仓库的重要环节之一。

![]({{site.baseurl}}/img-post/etl-1-2.png)

ETL，负责将分布、异构的数据源中的数据，如关系数据、平面数据、文件等取到临时中间层，进行清洗、转换、集成，最后加载到数据仓库或数据集市，成为联机分析处理、数据挖掘的基础。

ETL 的目的，是将其中分散、零乱、标准不统一的数据，整合到一起，为企业的决策提供分析依据。ETL 是 BI 项目的重要环节，一般要花掉整个 BI 项目的三分之一的时间精力，ETL 设计的好坏直接关系到 BI 项目的成败。

其中，ETL三个部分中：
- Extractor，是从不同的数据源抽取到 ODS（operational data store），这部分尽可能的选用高效的抽取方法，以提升 ETL 的性能；
  >在抽取环节，就可以做一部分的清洗过滤和转换工作。
- Transform，数据清洗和转换，最耗费时间，一般这部分工作占了整个 ETL 的三分之二。
- Load，清洗完的数据一般直接写入数仓 DW（data warehouse）中。

# 2. Extractor

在数据抽取环节，需要做大量的数据调研工作，要搞清楚数据是从几个业务系统来的，各个业务系统的数据库服务器是什么样的，有多少手工数据，是否存在非结构化数据。



##### 2.1. 

##### 1.1. 结构化数据

有完整的结构规则，如 MySQL、Oracle、Excel 表等。

##### 1.2. 半结构化数据

由基本固定结构模式的数据，比如日志文件、XML文档、JSON文档、email等。

##### 1.3. 非结构化数据

无固定格式的数据，如Word、PDF、PPT、图片、音频、视频等。

# 2. 数据提取

##### 2.1. 提取结构化数据

可以通过关系型数据库表形式进行存储。

##### 2.2. 提取半结构化数据

可以通过固定规则提取数据信息，实时数据经常遇到这类数据，比如通过 kafka 传送 JSON 数据流。

一般情况下，在数据接入环节、就需要提取结构化的信息。

##### 2.3. 提取非结构化数据

需要通过数据挖掘、机器学习等算法，提取结构化信息。

一般不在数据接入过程中，进行信息提取。因为非结构化数据没有明显特征，提取的时候需要大量样本进行学习、训练，如果算法模型有问题、这会导致源数据的大量损失。

多数时候会存在 HDFS、FTP、华为云obs、阿里云oss等，然后将文件路径存储为结构化数据，在使用的时候通过文件路径找到文件。

![]({{site.baseurl}}/img-post/etl-5-1.png)


# 3.非结构化数据

##### 3.1. 文本信息提取

- 要素信息：
  - 姓名
  - 身份证号码
  - 电话
  - 地址
  - 账号
  - 性别
  - 年龄等

- 关键词摘要：
  - 关键词
  - 段落
  - 摘要文本
  
- 关系提取：
  - 人员关系

##### 3.2. 音频信息提取

- 特征信息：
  - 声纹特征、
  - 语种特征
  
- 语音转文本：
  - 文本信息提取

##### 3.3. 视频图片信息提取

- 特征信息：
  - 人像信息、
  - 物品信息、
  - 场景信息、
  - 字幕信息
  